{% extends 'FirstApp/layout.html' %}

{% block title %}
  <title>Страница для добавления новостей</title>
{% endblock %}

{% block content %}
    <div class="container mt-5">
        <div class="card">
            <div class="card-header">
                <h2>Форма для добавления новости</h2>
            </div>
            <div class="card-body">
                <form method="post"> <!-- можно указать здесь action указывает, куда будут перенаправляться данные,
                    когда мы их отправим, и какая функция будет их обрабатывать. Можем указать action.
                    Если его не указать, обрабатывать будет та же функция, которая открывает страницу

                    Отлавливаем ошибку CSRF. Для прохождения проверки в начале формы
                    (прямо под строкой <form method=”post”>) добавляем {% csrf_token %}-->

                    {% csrf_token %}
                    <div class="form-group">
                        <!-- можно удалить то, что не связано с БД
                        <label for="title">Заголовок новости</label>
                        <input type="text" class="form-control" id="title" placeholder="Введите заголовок новости">
                        -->
                        {{form.title}}
                    </div><br>
                    <div class="form-group">
                        <!-- можно удалить
                        <label for="shortDescription">Краткое описание новости</label>
                        <input type="text" class="form-control" id="shortDescription" placeholder="Введите краткое описание новости">
                        -->
                        {{form.short_description}}
                    </div><br>
                    <div class="form-group">
                        <!-- можно удалить
                        <label for="content">Текст новости</label>
                        <textarea class="form-control" id="content" placeholder="Введите текст новости" rows="4"></textarea>
                        -->
                        {{form.text}}
                    </div><br>
                    <div class="form-group">
                        <!-- можно удалить
                        <label for="date">Дата публикации</label>
                        <input type="date" class="form-control" id="date">
                        -->
                        {{form.pub_date}}
                    </div><br>
                    <!-- можно удалить
                    <div class="form-group">
                        <label for="time">Время публикации</label>
                        <input type="time" class="form-control" id="time">
                    </div>
                    -->
                    <button type="submit" class="btn btn-primary">Добавить новость</button>
                </form>
                <p>{{error}}</p>
            </div>
        </div>
    </div>

{% endblock %}